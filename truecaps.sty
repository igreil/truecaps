%----------------------------------- -----------------------------------------
% This is file "truecaps.sty" v0.5 (2022-04-29)
% It was forked from निरंजन's "unisc.sty" v0.1 (2022-04-21)
%
% This file and possibly later versions can be found on
% <https://https://github.com/igreil/truecaps>
%
% The original files by निरंजन [Niranjan] can be found 
% on CTAN <https://ctan.org/pkg/unisc> and at 
% <https://puszcza.gnu.org.ua/projects/unisc>
%
% License:		GPLv3 and GFDLv1.3+
%
%----------------------------------- -----------------------------------------
%
% LaTeX Package truecaps v0.5 (2022-04-29)
% Copyright © 2022 निरंजन [Niranjan] and Ingmar Greil
%
% This program is free software: you can redistribute it and/or modify it
% under the terms of the GNU General Public License as published by the Free
% Software Foundation, either version 3 of the License, or (at your option)
% any later version.
%
% This program is distributed in the hope that it will be useful, but WITHOUT
% ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
% FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
% more details.
%
% You should have received a copy of the GNU General Public License along 
% with this program. If not, see <https://www.gnu.org/licenses/>.
%
%----------------------------------------------------------------------------

\def\truecapsname			{truecaps}		
\def\truecapsdescription	{
	Unicode TʀᴜᴇCᴀᴘꜱ with LuaLaTex}
\def\truecapsversion		{0.5.2}	\def\truecapsdate			{2022-04-30}

\ProvidesPackage{\truecapsname}[\truecapsdate\truecapsdescription]
\RequirePackage{pgfparser,xpatch}

\ifdefined\directlua
	\RequirePackage	{ifluatex}
	\RequirePackage	{luatexbase}
	\RequirePackage	{luacode}
	\RequirePackage	{kvoptions,atveryend}
\else
	\PackageError	{Package must be run under LuaTeX: Aborting.}
					{What more can I say? Please try running again under LuaLaTeX.}
\fi

%FIXME & DEBUG:
%https://mirror.clientvps.com/CTAN/macros/luatex/latex/lua-typo/lua-typo-2021-04-18.sty

\NewCommandCopy\texttc	\textsc
\NewCommandCopy\tcshape	\scshape

% Yes, we actually need this twice:
\xpatchcmd{\textsc}{\scshape}{\tcshape}{}{\ERROR}
\xpatchcmd{\textsc}{\scshape}{\tcshape}{}{\ERROR}	% You're welcome.
% https://topanswers.xyz/transcript?room=2050&id=138859#c138859

\protected\long\def\TC@output#1{%
	\xdef\TC@cont{%
		\unexpanded\expandafter{%
			\TC@cont\unexpanded{#1}%
		}%
	}%
}

\protected\long\def\TC@out#1{%
	\xdef\TC@cont{%
		\unexpanded\expandafter{\TC@cont#1%
		}%
	}%
}

\providecommand\@gobbletwo[2]{}

\pgfparserdefunknown{scparser}{initial}{%
	\let\TC@ini\@empty
	\pgfparserswitch{ini}%
	\pgfparserreinsert
}

\pgfparserset{scparser/silent=true}

\pgfparserdefunknown{scparser}{all}{%
	\expandafter\TC@output\expandafter{\pgfparserletter}%
}

\newcommand*\TC@bgrp{\expandafter{\iffalse}\fi}
\newcommand*\TC@egrp{\iffalse{\fi}}

\pgfparserdef{scparser}{all}\begingroup
	{\begingroup\TC@out\begingroup}

\pgfparserdef{scparser}{all}\endgroup
	{\TC@check\endgroup}

\pgfparserdef{scparser}{all}{\meaning\bgroup}
	{\TC@bgrp\TC@out\TC@bgrp}

\pgfparserdef{scparser}{all}{\meaning\egroup}
	{\TC@check\TC@egrp}

\newcommand\truecaps@savedefinition[1]
	{\unexpanded{\def#1}{\unexpanded\expandafter{#1}}}

\protected\def\TC@check#1{%
	\expanded{%
		\unexpanded{#1}%
		\unexpanded{\ifdefined\TC@ini}%
		\truecaps@savedefinition\pgfparserstate
		\unexpanded{\TC@out#1}%
		\unexpanded{\else}%
		\unexpanded{\pgfparserswitch{final}}%
		\truecaps@savedefinition\pgfparser@current
		\truecaps@savedefinition\pgfparser@usersname
		\unexpanded{\fi}%
	}%
}

\newcommand\thornwarning{			% see ca. line #369 FIXME
Unsupported character LATIN SMALL LETTER THORN (U+00FE): 
substituted with LATIN CAPITAL LETTER THORN (U+00DE)%
}

\newcommand\xwarning{				% see ca. line #469	FIXME
Unsupported character LATIN SMALL LETTER X (U+0078): 
inserted as is%
}

%----------- SUPPORTED LETTERS BELOW -----------------------------------------

% LATIN LETTER SMALL CAPITAL A								(U+1D00)	ᴀ
% LATIN LETTER SMALL CAPITAL AE								(U+1D01)	ᴁ
% LATIN LETTER SMALL CAPITAL B								(U+0299)	ʙ
% LATIN LETTER SMALL CAPITAL C								(U+1D04)	ᴄ
% LATIN LETTER SMALL CAPITAL D								(U+1D05)	ᴅ
% LATIN LETTER SMALL CAPITAL ETH							(U+1D06)	ᴆ
% LATIN LETTER SMALL CAPITAL E								(U+1D07)	ᴇ
% LATIN LETTER SMALL CAPITAL F								(U+A730)	ꜰ
% LATIN LETTER SMALL CAPITAL G								(U+0262)	ɢ
% LATIN LETTER SMALL CAPITAL H								(U+029C)	ʜ
% LATIN LETTER SMALL CAPITAL I								(U+026A)	Ɪ
% LATIN LETTER SMALL CAPITAL J								(U+1D0A)	ᴊ
% LATIN LETTER SMALL CAPITAL K								(U+1D0B)	ᴋ
% LATIN LETTER SMALL CAPITAL L								(U+029F)	ʟ
% LATIN LETTER SMALL CAPITAL M								(U+1D0D)	ᴍ
% LATIN LETTER SMALL CAPITAL N								(U+0274)	ɴ
% LATIN LETTER SMALL CAPITAL O								(U+1D0F)	ᴏ
% LATIN LETTER SMALL CAPITAL OE								(U+0276)	ɶ
% LATIN LETTER SMALL CAPITAL P								(U+1D18)	ᴘ
% LATIN LETTER SMALL CAPITAL Q								(U+A7AF)	ꞯ
% LATIN LETTER SMALL CAPITAL R								(U+0280)	ʀ
% LATIN LETTER SMALL CAPITAL S								(U+A731)	ꜱ
% LATIN LETTER SMALL CAPITAL T								(U+1D1B)	ᴛ
% LATIN LETTER SMALL CAPITAL U								(U+1D1C)	ᴜ
% LATIN LETTER SMALL CAPITAL V								(U+1D20)	ᴠ
% LATIN LETTER SMALL CAPITAL W								(U+1D21)	ᴡ
% 		NOTE: X IS UNDEFINED		see line #120 above
% LATIN LETTER SMALL CAPITAL Y								(U+028F)	ʏ
% LATIN LETTER SMALL CAPITAL Z								(U+1D22)	ᴢ

%----------- AVAILABLE MODIFIERS ---------------------------------------------

% COMBINING GRAVE ACCENT									(U+0300)	 ̀
% COMBINING ACUTE ACCENT									(U+0301)	 ́
% COMBINING CIRCUMFLEX ACCENT								(U+0302)	 ̂
% COMBINING TILDE											(U+0303)	 ̃
% COMBINING MACRON											(U+0304)	 ̄
% COMBINING BREVE											(U+0306)	 ̆
% COMBINING DOT ABOVE										(U+0307)	 ̇
% COMBINING DIAERESIS										(U+0308)	 ̈
% COMBINING HOOK ABOVE										(U+0309)	 ̉
% COMBINING INVERTED BREVE									(U+0311)	 ̑
% COMBINING RING ABOVE										(U+030A)	 ̊
% COMBINING DOUBLE ACUTE ACCENT								(U+030B)	 ̋
% COMBINING CARON											(U+030C)	 ̌
% COMBINING DOUBLE GRAVE ACCENT								(U+030F)	 ̏
% COMBINING DOT BELOW										(U+0323)	 ̣
% COMBINING RING BELOW										(U+0325)	 ̥
% COMBINING COMMA BELOW										(U+0326)	 ̦
% COMBINING CEDILLA											(U+0327)	 ̧
% COMBINING OGONEK											(U+0328)	 ̨
% COMBINING CIRCUMFLEX ACCENT BELOW							(U+032D)	 ̮
% COMBINING BREVE BELOW										(U+032E)	 ̮
% COMBINING MACRON BELOW									(U+0331)	 ̱
% COMBINING SHORT SOLIDUS OVERLAY							(U+0337)	 ̷
% COMBINING LONG SOLIDUS OVERLAY							(U+0338)	 ̸

%-----------------------------------------------------------------------------

% LATIN LETTER SMALL CAPITAL A								(U+1D00)
\pgfparserdef{scparser}{ini}a {\TC@out{ᴀ}}
\pgfparserdef{scparser}{ini}A {\TC@out{A}}

	%	with	COMBINING GRAVE ACCENT						(U+0300)
		\pgfparserdef{scparser}{ini}à	{\TC@out{ᴀ̀}}
		\pgfparserdef{scparser}{ini}À	{\TC@out{À}}

	%	with	COMBINING ACUTE ACCENT						(U+0301)
		\pgfparserdef{scparser}{ini}á {\TC@out{ᴀ́}}
		\pgfparserdef{scparser}{ini}Á {\TC@out{Á}}

	%	with	COMBINING CIRCUMFLEX ACCENT					(U+0302)
		\pgfparserdef{scparser}{ini}â {\TC@out{ᴀ̂}}
		\pgfparserdef{scparser}{ini}Â {\TC@out{Â}}

	%	with	COMBINING TILDE								(U+0303)
		\pgfparserdef{scparser}{ini}ã {\TC@out{ᴀ̃}}
		\pgfparserdef{scparser}{ini}Ã {\TC@out{Ã}}

	%	with	COMBINING MACRON							(U+0304)
		\pgfparserdef{scparser}{ini}ā {\TC@out{ᴀ̄}}
		\pgfparserdef{scparser}{ini}Ā {\TC@out{Ā}}

	%	with	COMBINING BREVE								(U+0306)
		\pgfparserdef{scparser}{ini}ă {\TC@out{ᴀ̆}}
		\pgfparserdef{scparser}{ini}Ă {\TC@out{Ă}}

	%	with	COMBINING DOT ABOVE							(U+0307)
		\pgfparserdef{scparser}{ini}ȧ {\TC@out{ᴀ̇}}
		\pgfparserdef{scparser}{ini}Ȧ {\TC@out{Ȧ}}

	%	with	COMBINING DIAERESIS							(U+0308)
		\pgfparserdef{scparser}{ini}ä {\TC@out{ᴀ̈}}
		\pgfparserdef{scparser}{ini}Ä {\TC@out{Ä}}

	%	with	COMBINING HOOK ABOVE 						(U+0309)
		\pgfparserdef{scparser}{ini}ả {\TC@out{ᴀ̉}}
		\pgfparserdef{scparser}{ini}Ả {\TC@out{Ả}}

	%	with	COMBINING INVERTED BREVE					(U+0311)
		\pgfparserdef{scparser}{ini}ȃ {\TC@out{ᴀ̑}}
		\pgfparserdef{scparser}{ini}Ȃ {\TC@out{Ȃ}}

	%	with	COMBINING RING ABOVE						(U+030A)
		\pgfparserdef{scparser}{ini}å {\TC@out{ᴀ̊}}
		\pgfparserdef{scparser}{ini}Å {\TC@out{Å}}

		%	and		COMBINING ACUTE ACCENT					(U+030A)
			\pgfparserdef{scparser}{ini}ǻ {\TC@out{ᴀ̊́}}
			\pgfparserdef{scparser}{ini}Ǻ {\TC@out{Ǻ}}

	%	with	COMBINING CARON 							(U+030C)
		\pgfparserdef{scparser}{ini}ǎ {\TC@out{ᴀ̌}}
		\pgfparserdef{scparser}{ini}Ǎ {\TC@out{Ǎ}}

	%	with	COMBINING DOUBLE GRAVE ACCENT				(U+030F)
		\pgfparserdef{scparser}{ini}ȁ {\TC@out{ᴀ̏}}
		\pgfparserdef{scparser}{ini}Ȁ {\TC@out{Ȁ}}

	%	with	COMBINING DOT BELOW							(U+0323)
		\pgfparserdef{scparser}{ini}ạ {\TC@out{ᴀ̣}}
		\pgfparserdef{scparser}{ini}Ạ {\TC@out{Ạ}}

	%	with	COMBINING RING BELOW						(U+0325)
		\pgfparserdef{scparser}{ini}ḁ {\TC@out{ᴀ̥}}
		\pgfparserdef{scparser}{ini}Ḁ {\TC@out{Ḁ}}

	%	with	COMBINING OGONEK							(U+0328)
		\pgfparserdef{scparser}{ini}ą {\TC@out{ᴀ̨}}
		\pgfparserdef{scparser}{ini}Ą {\TC@out{Ą}}

	%TODO: Ǟ Ǡ Ấ Ầ Ẩ Ẫ Ậ Ắ Ằ Ẳ Ẵ Ặ ẚ

%-----------------------------------------------------------------------------

% LATIN LETTER SMALL CAPITAL AE								(U+1D01)
\pgfparserdef{scparser}{ini}æ {\TC@out{ᴁ}}
\pgfparserdef{scparser}{ini}Æ {\TC@out{Æ}}

	% LATIN LETTER SMALL CAPITAL AE							(U+1D01)
	%	with	COMBINING ACUTE ACCENT						(U+0301)
		\pgfparserdef{scparser}{ini}ǽ {\TC@out{ᴁ́}}
		\pgfparserdef{scparser}{ini}Ǽ {\TC@out{Ǽ}}

	% LATIN LETTER SMALL CAPITAL AE							(U+1D01)
	%	with	COMBINING MACRON							(U+0304)
		\pgfparserdef{scparser}{ini}ǣ {\TC@out{ᴁ̄}}
		\pgfparserdef{scparser}{ini}Ǣ {\TC@out{Ǣ}}

%-----------------------------------------------------------------------------

% LATIN LETTER SMALL CAPITAL B 								(U+0299)
\pgfparserdef{scparser}{ini}b {\TC@out{ʙ}}
\pgfparserdef{scparser}{ini}B {\TC@out{B}}

	% LATIN LETTER SMALL CAPITAL B							(U+0299)
	%	with	COMBINING DOT ABOVE							(U+0307)
		\pgfparserdef{scparser}{ini}ḃ {\TC@out{ʙ̇}}
		\pgfparserdef{scparser}{ini}Ḃ {\TC@out{Ḃ}}

	% LATIN LETTER SMALL CAPITAL B							(U+0299)
	%	with	COMBINING DOT BELOW							(U+0323)
		\pgfparserdef{scparser}{ini}ḅ {\TC@out{ʙ̣}}
		\pgfparserdef{scparser}{ini}Ḅ {\TC@out{Ḅ}}

	% LATIN LETTER SMALL CAPITAL B							(U+0299)
	%	with	COMBINING MACRON BELOW						(U+0331)
		\pgfparserdef{scparser}{ini}ḇ {\TC@out{ʙ̱}}
		\pgfparserdef{scparser}{ini}Ḇ {\TC@out{Ḇ}}

%-----------------------------------------------------------------------------

% LATIN LETTER SMALL CAPITAL C								(U+1D04)
\pgfparserdef{scparser}{ini}c {\TC@out{ᴄ}}
\pgfparserdef{scparser}{ini}C {\TC@out{C}}

	% LATIN LETTER SMALL CAPITAL C							(U+1D04)
	%	with	COMBINING ACUTE ACCENT						(U+0301)
		\pgfparserdef{scparser}{ini}ć {\TC@out{ᴄ́}}
		\pgfparserdef{scparser}{ini}Ć {\TC@out{Ć}}

	% LATIN LETTER SMALL CAPITAL C							(U+1D04)
	%	with	COMBINING CIRCUMFLEX ACCENT					(U+0302)
		\pgfparserdef{scparser}{ini}ĉ {\TC@out{ᴄ̂}}
		\pgfparserdef{scparser}{ini}Ĉ {\TC@out{Ĉ}}

	% LATIN LETTER SMALL CAPITAL C							(U+1D04)
	%	with	COMBINING DOT ABOVE							(U+0307)
		\pgfparserdef{scparser}{ini}ċ {\TC@out{ᴄ̇}}
		\pgfparserdef{scparser}{ini}Ċ {\TC@out{Ċ}}

	% LATIN LETTER SMALL CAPITAL C							(U+1D04)
	%	with	COMBINING CARON								(U+030C)
		\pgfparserdef{scparser}{ini}č {\TC@out{ᴄ̌}}
		\pgfparserdef{scparser}{ini}Č {\TC@out{Č}}

	% LATIN LETTER SMALL CAPITAL C							(U+1D04)
	%	with	COMBINING CEDILLA							(U+0327)
		\pgfparserdef{scparser}{ini}ç {\TC@out{ᴄ̧}}
		\pgfparserdef{scparser}{ini}Ç {\TC@out{Ç}}

%-----------------------------------------------------------------------------

% LATIN LETTER SMALL CAPITAL D								(U+1D05)
\pgfparserdef{scparser}{ini}d {\TC@out{ᴅ}}
\pgfparserdef{scparser}{ini}D {\TC@out{D}}

	% LATIN LETTER SMALL LETTER ETH							(U+00F0)
		\pgfparserdef{scparser}{ini}ð {\TC@out{ᴆ}}
		\pgfparserdef{scparser}{ini}Ð {\TC@out{Ð}}
	% LATIN SMALL LETTER D WITH STROKE						(U+0111)
		\pgfparserdef{scparser}{ini}đ {\TC@out{ᴆ}}
		\pgfparserdef{scparser}{ini}Đ {\TC@out{Đ}}
	% LATIN SMALL LETTER D WITH TAIL						(U+0256)
		\pgfparserdef{scparser}{ini}ɖ {\TC@out{ᴆ}}
		\pgfparserdef{scparser}{ini}Ɖ {\TC@out{Ɖ}}

	% LATIN LETTER SMALL CAPITAL D							(U+1D05)
	%	with	COMBINING DOT ABOVE							(U+0307)
		\pgfparserdef{scparser}{ini}ḋ {\TC@out{ᴅ̇}}
		\pgfparserdef{scparser}{ini}Ḋ {\TC@out{Ḋ}}

	% LATIN LETTER SMALL CAPITAL D							(U+1D05)
	%	with	COMBINING CARON								(U+030C)
		\pgfparserdef{scparser}{ini}ď {\TC@out{ᴅ̌}}
		\pgfparserdef{scparser}{ini}Ď {\TC@out{Ď}}

	% LATIN LETTER SMALL CAPITAL D							(U+1D05)
	%	with	COMBINING DOT BELOW							(U+0323)
		\pgfparserdef{scparser}{ini}ḍ {\TC@out{ᴅ̣}}
		\pgfparserdef{scparser}{ini}Ḍ {\TC@out{Ḍ}}

	% LATIN LETTER SMALL CAPITAL D							(U+1D05)
	%	with	COMBINING CEDILLA							(U+0327)
		\pgfparserdef{scparser}{ini}ḑ {\TC@out{ᴅ̧}}
		\pgfparserdef{scparser}{ini}Ḑ {\TC@out{Ḑ}}

	% LATIN LETTER SMALL CAPITAL D							(U+1D05)
	%	with	COMBINING MACRON BELOW						(U+0331)
		\pgfparserdef{scparser}{ini}ḏ {\TC@out{ᴅ̱}}
		\pgfparserdef{scparser}{ini}Ḏ {\TC@out{Ḏ}}

	% LATIN LETTER SMALL CAPITAL D							(U+1D05)
	%	with	COMBINING CIRCUMFLEX ACCENT BELOW			(U+032D)
		\pgfparserdef{scparser}{ini}ḓ {\TC@out{ᴅ̭}}
		\pgfparserdef{scparser}{ini}Ḓ {\TC@out{Ḓ}}

	% LATIN CAPITAL LETTER DZ WITH CARON					(U+01C4)
		\pgfparserdef{scparser}{ini}Ǆ {\TC@out{DŽ}}
	% LATIN CAPITAL LETTER D WITH SMALL LETTER Z WITH CARON	(U+01C5)
		\pgfparserdef{scparser}{ini}ǅ {\TC@out{Dᴢ̌}}
	% LATIN SMALL LETTER DZ WITH CARON						(U+01C6)
		\pgfparserdef{scparser}{ini}ǆ {\TC@out{ᴅᴢ̌}}

	% LATIN CAPITAL LETTER DZ								(U+01F1)
		\pgfparserdef{scparser}{ini}Ǳ {\TC@out{DZ}}
	% LATIN CAPITAL LETTER D WITH SMALL LETTER Z			(U+01F2)
		\pgfparserdef{scparser}{ini}ǲ {\TC@out{Dᴢ}}
	% LATIN SMALL LETTER DZ									(U+01F3)
		\pgfparserdef{scparser}{ini}ǳ {\TC@out{ᴅᴢ}}

% XYZZY-----------------------------------------------------------------------

% LATIN LETTER SMALL CAPITAL E (U+1D07)
\pgfparserdef{scparser}{ini}e {\TC@out{ᴇ}}
\pgfparserdef{scparser}{ini}E {\TC@out{E}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING GRAVE ACCENT (U+0300)
	\pgfparserdef{scparser}{ini}è {\TC@out{ᴇ̀}}
	\pgfparserdef{scparser}{ini}È {\TC@out{È}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING ACUTE ACCENT (U+0301)
	\pgfparserdef{scparser}{ini}é {\TC@out{ᴇ́}}
	\pgfparserdef{scparser}{ini}É {\TC@out{É}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{ini}ë {\TC@out{ᴇ̈}}
	\pgfparserdef{scparser}{ini}Ë {\TC@out{Ë}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{ini}ê {\TC@out{ᴇ̂}}
	\pgfparserdef{scparser}{ini}Ê {\TC@out{Ê}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{ini}ě {\TC@out{ᴇ̌}}
	\pgfparserdef{scparser}{ini}Ě {\TC@out{Ě}}


	% LATIN LETTER SMALL CAPITAL E							(U+1D07)
	%	with	COMBINING MACRON							(U+0304)
		\pgfparserdef{scparser}{ini}ē {\TC@out{ᴇ̄}}
		\pgfparserdef{scparser}{ini}Ē {\TC@out{Ē}}

	% LATIN LETTER SMALL CAPITAL E							(U+1D07)
	%	with	COMBINING BREVE								(U+0306)
		\pgfparserdef{scparser}{ini}ĕ {\TC@out{ᴇ̆}}
		\pgfparserdef{scparser}{ini}Ĕ {\TC@out{Ĕ}}

	% LATIN LETTER SMALL CAPITAL E							(U+1D07)
	%	with	COMBINING DOT ABOVE							(U+0307)
		\pgfparserdef{scparser}{ini}ė {\TC@out{ᴇ̇}}
		\pgfparserdef{scparser}{ini}Ė {\TC@out{Ė}}

	% LATIN LETTER SMALL CAPITAL E							(U+1D07)
	%	with	COMBINING OGONEK							(U+0328)
		\pgfparserdef{scparser}{ini}ę {\TC@out{ᴇ̨}}
		\pgfparserdef{scparser}{ini}Ę {\TC@out{Ę}}

	% TODO:Ȅ Ȇ Ȩ Ė Ẹ Ẻ Ẽ Ế Ề Ể Ễ Ệ -> https://www.compart.com/en/unicode/U+0045

% LATIN LETTER SMALL CAPITAL F (U+A730)
\pgfparserdef{scparser}{ini}f {\TC@out{ꜰ}}
\pgfparserdef{scparser}{ini}F {\TC@out{F}}


	% LATIN LETTER SMALL CAPITAL E							(U+A730)
	%	with	COMBINING DOT ABOVE							(U+0307)
		\pgfparserdef{scparser}{ini}ḟ {\TC@out{ꜰ̇}}
		\pgfparserdef{scparser}{ini}Ḟ {\TC@out{Ḟ}}


% LATIN LETTER SMALL CAPITAL G (U+0262)
\pgfparserdef{scparser}{ini}g {\TC@out{ɢ}}
\pgfparserdef{scparser}{ini}G {\TC@out{G}}

	% LATIN LETTER SMALL CAPITAL G (U+0262) + COMBINING BREVE (U+0306)
	\pgfparserdef{scparser}{ini}ğ {\TC@out{ɢ̆}}
	\pgfparserdef{scparser}{ini}Ğ {\TC@out{Ğ}}

% LATIN LETTER SMALL CAPITAL G							(U+0262)
	%	with	COMBINING DOT ABOVE						(U+0307)
		\pgfparserdef{scparser}{ini}ġ {\TC@out{ɢ̇}}
		\pgfparserdef{scparser}{ini}Ġ {\TC@out{Ġ}}

	% TODO Ǧ Ģ Ĝ Ǵ Ḡ

% LATIN LETTER SMALL CAPITAL H (U+029C)
\pgfparserdef{scparser}{ini}h {\TC@out{ʜ}}
\pgfparserdef{scparser}{ini}H {\TC@out{H}}

% LATIN SMALL LETTER H WITH STROKE
\pgfparserdef{scparser}{ini}ħ {\TC@out{ʜ̵̶}}
\pgfparserdef{scparser}{ini}Ħ {\TC@out{Ħ}}

	% LATIN LETTER SMALL CAPITAL H (U+029C) + COMBINING BREVE BELOW (U+032E)
	\pgfparserdef{scparser}{ini}ḫ {\TC@out{ʜ̮}}
	\pgfparserdef{scparser}{ini}Ḫ {\TC@out{Ḫ}}

	% TODO Ĥ Ȟ Ḣ Ḥ Ḧ Ḩ 

% LATIN LETTER SMALL CAPITAL I 		(U+026A)
\pgfparserdef{scparser}{ini}i {\TC@out{ɪ}}
\pgfparserdef{scparser}{ini}I {\TC@out{I}}

	% LATIN LETTER SMALL CAPITAL I 	(U+026A)
		%+ COMBINING DIAERESIS 		(U+0308)
	\pgfparserdef{scparser}{ini}ï {\TC@out{ɪ̈}}
	\pgfparserdef{scparser}{ini}Ï {\TC@out{Ï}}

	% LATIN LETTER SMALL CAPITAL I 	(U+026A)
		% + COMBINING GRAVE ACCENT 	(U+0300)
	\pgfparserdef{scparser}{ini}ì {\TC@out{ɪ̀}}
	\pgfparserdef{scparser}{ini}Ì {\TC@out{Ì}}

	% LATIN LETTER SMALL CAPITAL I 	(U+026A)
		% + COMBINING ACUTE ACCENT 	(U+0301)
	\pgfparserdef{scparser}{ini}í {\TC@out{ɪ́}}
	\pgfparserdef{scparser}{ini}Í {\TC@out{Í}}

	% LATIN LETTER SMALL CAPITAL I 	(U+026A)
		% + COMBINING ACUTE ACCENT 	(U+0302)
	\pgfparserdef{scparser}{ini}î {\TC@out{ɪ̂}}
	\pgfparserdef{scparser}{ini}Î {\TC@out{Î}}

	% TODO: İ Į

% LATIN LETTER SMALL CAPITAL J (U+1D0A)
\pgfparserdef{scparser}{ini}j {\TC@out{ᴊ}}
\pgfparserdef{scparser}{ini}J {\TC@out{J}}

	% LATIN LETTER SMALL CAPITAL J (U+1D0A)
		% + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{ini}ĵ {\TC@out{ᴊ̂}}
	\pgfparserdef{scparser}{ini}Ĵ {\TC@out{Ĵ}}

% LATIN LETTER SMALL CAPITAL K (U+1D0B)
\pgfparserdef{scparser}{ini}k {\TC@out{ᴋ}}
\pgfparserdef{scparser}{ini}K {\TC@out{K}}

	% TODO Ķ Ǩ Ḱ Ḳ Ḵ

% LATIN LETTER SMALL CAPITAL L (U+029F)
\pgfparserdef{scparser}{ini}l {\TC@out{ʟ}}
\pgfparserdef{scparser}{ini}L {\TC@out{L}}

	\pgfparserdef{scparser}{ini}ŀ {\TC@out{ʟ·}}
	\pgfparserdef{scparser}{ini}Ŀ {\TC@out{L·}}

	% TODO Ĺ Ļ Ľ Ḷ Ḻ Ḽ

% LATIN LETTER SMALL CAPITAL M (U+1D0D)
\pgfparserdef{scparser}{ini}m {\TC@out{ᴍ}}
\pgfparserdef{scparser}{ini}M {\TC@out{M}}

	% TODO Ḿ Ṁ Ṃ

% LATIN LETTER SMALL CAPITAL N (U+0274)
\pgfparserdef{scparser}{ini}n {\TC@out{ɴ}}
\pgfparserdef{scparser}{ini}N {\TC@out{N}}

	% LATIN LETTER SMALL CAPITAL N (U+0274) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{ini}ň {\TC@out{ɴ̌}}
	\pgfparserdef{scparser}{ini}Ň {\TC@out{Ň}}

	% LATIN LETTER SMALL CAPITAL N (U+0274) + COMBINING TILDE (U+0303)
	\pgfparserdef{scparser}{ini}ñ {\TC@out{ɴ̃}}
	\pgfparserdef{scparser}{ini}Ñ {\TC@out{Ñ}}

	% TODO Ń Ņ Ǹ Ṅ Ṇ Ṉ Ṋ

% LATIN LETTER SMALL CAPITAL O (U+1D0F)
\pgfparserdef{scparser}{ini}o {\TC@out{ᴏ}}
\pgfparserdef{scparser}{ini}O {\TC@out{O}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{ini}ö {\TC@out{ᴏ̈}}
	\pgfparserdef{scparser}{ini}Ö {\TC@out{Ö}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING GRAVE ACCENT (U+0300)
	\pgfparserdef{scparser}{ini}ó {\TC@out{ᴏ̀}}
	\pgfparserdef{scparser}{ini}Ò {\TC@out{Ò}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING ACUTE ACCENT (U+0301)
	\pgfparserdef{scparser}{ini}ó {\TC@out{ᴏ́}}
	\pgfparserdef{scparser}{ini}Ó {\TC@out{Ó}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING ACUTE ACCENT (U+0302)
	\pgfparserdef{scparser}{ini}ô {\TC@out{ᴏ̂}}
	\pgfparserdef{scparser}{ini}Ô {\TC@out{Ô}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING DOUBLE GRAVE ACCENT (U+030F)
	\pgfparserdef{scparser}{ini}ȍ {\TC@out{ᴏ̏}}
	\pgfparserdef{scparser}{ini}Ȍ {\TC@out{Ȍ}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING DOUBLE ACUTE ACCENT (U+030B)
	\pgfparserdef{scparser}{ini}ő {\TC@out{ᴏ̋}}
	\pgfparserdef{scparser}{ini}Ő {\TC@out{Ő}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING TILDE (U+0303)
	\pgfparserdef{scparser}{ini}õ {\TC@out{ᴏ̃}}
	\pgfparserdef{scparser}{ini}Õ {\TC@out{Õ}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING SHORT SOLIDUS OVERLAY (U+0337)
	\pgfparserdef{scparser}{ini}ø {\TC@out{ᴏ̷}}
	\pgfparserdef{scparser}{ini}Ø {\TC@out{Ø}}

% LATIN CAPITAL LETTER THORN (U+00DE) 
% There is no support for THORN. The best we can do is issue a 
% warning (see line #110) and try to make do with the regular 
% uppercase character.
\pgfparserdef{scparser}{ini}þ {\TC@out{Þ}}
\pgfparserdef{scparser}{ini}Þ {\TC@out{Þ}
%\PackageWarning{\truecapsname}{\thornwarning}% 	see line #110	FIXME AFTER DEBUGGING
} % end of Þ

% LATIN LETTER SMALL CAPITAL OE (U+0276)
\pgfparserdef{scparser}{ini}œ {\TC@out{ɶ}}
\pgfparserdef{scparser}{ini}Œ {\TC@out{Œ}}

% LATIN LETTER SMALL CAPITAL P (U+1D18)
\pgfparserdef{scparser}{ini}p {\TC@out{ᴘ}}
\pgfparserdef{scparser}{ini}P {\TC@out{P}}

%% LATIN LETTER SMALL CAPITAL Q (U+A7AF)
\pgfparserdef{scparser}{ini}q {\TC@out{ꞯ}}
\pgfparserdef{scparser}{ini}Q {\TC@out{Q}}

% LATIN LETTER SMALL CAPITAL R (U+0280)
\pgfparserdef{scparser}{ini}r {\TC@out{ʀ}}
\pgfparserdef{scparser}{ini}R {\TC@out{R}}

	% LATIN LETTER SMALL CAPITAL R (U+0280)	+ COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{ini}ř {\TC@out{ʀ̌}}
	\pgfparserdef{scparser}{ini}Ř {\TC@out{Ř}}

	% TODO ==> https://www.compart.com/en/unicode/U+0052

% LATIN LETTER SMALL CAPITAL S (U+A731)
\pgfparserdef{scparser}{ini}s {\TC@out{ꜱ}}
\pgfparserdef{scparser}{ini}S {\TC@out{S}}

	% There is no German word that starts with ẞ
	% => No need for LATIN CAPITAL LETTER SHARP S (U+1E9E)
	\pgfparserdef{scparser}{ini}ß {\TC@out{ꜱꜱ}}

	% LATIN LETTER SMALL CAPITAL S (U+A731) COMBINING CARON	(U+030C)
	\pgfparserdef{scparser}{ini}š {\TC@out{ꜱ̌}}
	\pgfparserdef{scparser}{ini}Š {\TC@out{Š}}

	% TODO Ś Ŝ Ş Ș Ṡ Ṣ

% LATIN LETTER SMALL CAPITAL T (U+1D1B)
\pgfparserdef{scparser}{ini}t {\TC@out{ᴛ}}
\pgfparserdef{scparser}{ini}T {\TC@out{T}}

	% LATIN LETTER SMALL CAPITAL T (U+1D1B) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{ini}ť {\TC@out{ᴛ̌}}
	\pgfparserdef{scparser}{ini}Ť {\TC@out{Ť}}

	% TODO Ţ Ț Ṫ Ṭ Ṯ Ṱ

% LATIN LETTER SMALL CAPITAL U (U+1D1C)
\pgfparserdef{scparser}{ini}u {\TC@out{ᴜ}}
\pgfparserdef{scparser}{ini}U {\TC@out{U}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING RING ABOVE (U+030A)
	\pgfparserdef{scparser}{ini}ů {\TC@out{ᴜ̊}}
	\pgfparserdef{scparser}{ini}Ů {\TC@out{Ů}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING GRAVE ACCENT (U+0300)
	\pgfparserdef{scparser}{ini}ù {\TC@out{ᴜ̀}}
	\pgfparserdef{scparser}{ini}Ù {\TC@out{Ù}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING ACUTE ACCENT (U+0301)
	\pgfparserdef{scparser}{ini}ú {\TC@out{ᴜ́}}
	\pgfparserdef{scparser}{ini}Ú {\TC@out{Ú}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING DIAERESIS (U+0308)	
	\pgfparserdef{scparser}{ini}ü {\TC@out{ᴜ̈}}
	\pgfparserdef{scparser}{ini}Ü {\TC@out{Ü}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{ini}û {\TC@out{ᴜ̂}}
	\pgfparserdef{scparser}{ini}Û {\TC@out{Û}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING DOUBLE GRAVE ACCENT (U+030F)
	\pgfparserdef{scparser}{ini}ȕ {\TC@out{ᴜ̏}}
	\pgfparserdef{scparser}{ini}Ȕ {\TC@out{Ȕ}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING DOUBLE ACUTE ACCENT (U+030B)
	\pgfparserdef{scparser}{ini}ű {\TC@out{ᴜ̋}}
	\pgfparserdef{scparser}{ini}Ű {\TC@out{Ű}}

	% TODO Ú Ǔ Ų 

% LATIN LETTER SMALL CAPITAL V (U+1D20)
\pgfparserdef{scparser}{ini}v {\TC@out{ᴠ}}
\pgfparserdef{scparser}{ini}V {\TC@out{V}}

% LATIN LETTER SMALL CAPITAL W (U+1D21)
\pgfparserdef{scparser}{ini}w {\TC@out{ᴡ}}
\pgfparserdef{scparser}{ini}W {\TC@out{W}}

	%TODO Ŵ Ẃ Ẁ 

% LATIN SMALL LETTER X (U+0078) is the only letter without 
% a matching LATIN LETTER SMALL CAPITAL * 
% The best we can do is issue a warning (see line #115) 
% and use regular LATIN SMALL LETTER X (U+0078):
\pgfparserdef{scparser}{ini}x{\TC@out{x}%
%\PackageWarning{\truecapsname}{\xwarning} %FIXME AFTER DEBUGGING
}

% LATIN CAPITAL LETTER X (U+0058) is not an issue:
\pgfparserdef{scparser}{ini}X {\TC@out{X}}

% LATIN LETTER SMALL CAPITAL Y
\pgfparserdef{scparser}{ini}y {\TC@out{ʏ}}
\pgfparserdef{scparser}{ini}Y {\TC@out{Y}}

	% LATIN LETTER SMALL CAPITAL Y (U+028F) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{ini}ÿ {\TC@out{ʏ̈}}
	\pgfparserdef{scparser}{ini}Ÿ {\TC@out{Ÿ}}

	% LATIN LETTER SMALL CAPITAL Y (U+028F) + COMBINING ACUTE ACCENT (U+0301)
	\pgfparserdef{scparser}{ini}ý {\TC@out{ʏ́}}
	\pgfparserdef{scparser}{ini}Ý {\TC@out{Ý}}

	% TODO Ỳ Ŷ

% LATIN LETTER SMALL CAPITAL Z (U+1D22)
\pgfparserdef{scparser}{ini}z {\TC@out{ᴢ}}
\pgfparserdef{scparser}{ini}Z {\TC@out{Z}}

	% LATIN LETTER SMALL CAPITAL Z (U+1D22) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{ini}ž {\TC@out{ᴢ̌}}
	\pgfparserdef{scparser}{ini}Ž {\TC@out{Ž}}

% LATIN LETTER SMALL CAPITAL G							(U+1D22)
	%	with	COMBINING DOT ABOVE						(U+0307)
		\pgfparserdef{scparser}{ini}ż {\TC@out{ᴢ̇}}
		\pgfparserdef{scparser}{ini}Ż {\TC@out{Ż}}

	% TODO Ź Ž Ẑ 

% BLANK SPACE
\pgfparserdef{scparser}{ini}{blank space}%
  {\TC@out{ }}

	\pgfparserdef{scparser}{ini}+ {\TC@out{+}}

	% TODO: Punctuation, Parentheses, common typographical symbols. What about "ǃ" ?
	% Small form variants? ﹐ ﹑ ﹒ ﹔ ﹕ ﹖ ﹗ ﹘ ﹙ ﹚ ﹛ ﹜ ﹝ ﹞ ﹟ ﹠ ﹡ ﹢ ﹣ ﹤ ﹥ ﹦ ﹨ ﹩ ﹪ ﹫
% 			LETTER DEFINITIONS ABOVE

\pgfparserdeffinal{scparser}%
  {\expanded{\TC@cont}}
\AddToHook{begindocument/end}{%
  \RenewDocumentCommand\scshape{  }{%
    \ifdefined\TC@ini
      \PackageError{truecaps}{Nested use not allowed}{%
        You somehow made \string\nirshape\space expand inside
        the parser. This isn't supported.%
      }%
      \expandafter\@gobbletwo
    \else
      \global\let\TC@cont\@empty
    \fi
    \pgfparserparse{scparser}%
  }

  \RenewDocumentCommand\texttc{ m }{%
    \begingroup\scshape #1\endgroup
  }%
}
\endinput

% EOF "truecaps.sty"
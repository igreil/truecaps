% ----------------------------------------------------------
% This is file "truecaps.sty" v0.2 (2022-04-27)
% It was forked from निरंजन's "unisc.sty" v0.1 (2022-04-21)
%
% This file and possibly later versions can be found on
% <https://https://github.com/igreil/truecaps>
%
% The original files by निरंजन [Niranjan] can be found 
% on CTAN <https://ctan.org/pkg/truecaps> and at 
% <https://puszcza.gnu.org.ua/projects/truecaps>
%
% License: GPLv3+, GFDLv1.3+
% ----------------------------------------------------------
% 
% LaTeX Package truecaps v0.2 (2022-04-27)
% Copyright © 2022 निरंजन and Ingmar Greil
% 
% This program is free software: you can redistribute it
% and/or modify it under the terms of the GNU General Public
% License as published by the Free Software Foundation, either
% version 3 of the License, or (at your option) any later
% version.
% 
% This program is distributed in the hope that it will be
% useful, but WITHOUT ANY WARRANTY; without even the implied
% warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
% PURPOSE. See the GNU General Public License for more
% details.
% 
% You should have received a copy of the GNU General Public
% License along with this program. If not, see
% <https://www.gnu.org/licenses/>.
% 
% ----------------------------------------------------------
\def\truecapsversion{0.2}
\def\truecapsdate{2022-04-27}
\def\truecapsname{truecaps}
\def\truecapsdescription{
  Unicode TʀᴜᴇCᴀᴘꜱ with LuaLaTex/XeLaTeX}

\ProvidesPackage{\truecapsname}[\truecapsdate\truecapsdescription]

\RequirePackage{pgfparser}
\RequirePackage{xpatch}

\NewCommandCopy\oldtextsc\textsc
\NewCommandCopy\oldscshape\scshape
\xpatchcmd{\oldtextsc}{\scshape}{\oldscshape}{}{\ERROR}
\xpatchcmd{\oldtextsc}{\scshape}{\oldscshape}{}{\ERROR}
\protected\long\def\truecaps@output#1{%
  \xdef\truecaps@outputcontainer{%
    \unexpanded\expandafter{%
      \truecaps@outputcontainer\unexpanded{#1}%
    }%
  }%
}
\protected\long\def\truecaps@outputexpanded#1{%
  \xdef\truecaps@outputcontainer{%
    \unexpanded\expandafter{\truecaps@outputcontainer#1%
    }%
  }%
}
\providecommand\@gobbletwo[2]{}
\pgfparserdefunknown{scparser}{initial}{%
  \let\truecaps@initiated\@empty
  \pgfparserswitch{initiated}%
  \pgfparserreinsert
}
\pgfparserset{scparser/silent=true}
\pgfparserdefunknown{scparser}{all}{%
  \expandafter\truecaps@output\expandafter{\pgfparserletter}%
}
\newcommand*\truecaps@bgroup{\expandafter{\iffalse}\fi}
\newcommand*\truecaps@egroup{\iffalse{\fi}}
\pgfparserdef{scparser}{all}\begingroup
  {\begingroup\truecaps@outputexpanded\begingroup}
\pgfparserdef{scparser}{all}\endgroup
  {\truecaps@checkend\endgroup}
\pgfparserdef{scparser}{all}{\meaning\bgroup}{%
  \truecaps@bgroup\truecaps@outputexpanded\truecaps@bgroup
}
\pgfparserdef{scparser}{all}{\meaning\egroup}
  {\truecaps@checkend\truecaps@egroup}
\newcommand\truecaps@savedefinition[1]
  {\unexpanded{\def#1}{\unexpanded\expandafter{#1}}}
\protected\def\truecaps@checkend#1{%
  \expanded{%
    \unexpanded{#1}%
    \unexpanded{\ifdefined\truecaps@initiated}%
    \truecaps@savedefinition\pgfparserstate
    \unexpanded{\truecaps@outputexpanded#1}%
    \unexpanded{\else}%
    \unexpanded{\pgfparserswitch{final}}%
    \truecaps@savedefinition\pgfparser@current
    \truecaps@savedefinition\pgfparser@usersname
    \unexpanded{\fi}%
  }%
}

\newcommand\xwarning{% see line #393
Unsupported character LATIN SMALL LETTER X (U+0078): inserted as is%
}
% 			LETTER DEFINITIONS BELOW
% 
% ᴀ	U+1D00	LATIN LETTER SMALL CAPITAL A
% ᴁ	U+1D01	LATIN LETTER SMALL CAPITAL AE
% ʙ	U+0299	LATIN LETTER SMALL CAPITAL B
% ᴄ	U+1D04	LATIN LETTER SMALL CAPITAL C
% ᴅ	U+1D05	LATIN LETTER SMALL CAPITAL D
% ᴆ	U+1D06	LATIN LETTER SMALL CAPITAL ETH
% ᴇ	U+1D07	LATIN LETTER SMALL CAPITAL E
% ꜰ	U+A730	LATIN LETTER SMALL CAPITAL F
% ɢ	U+0262	LATIN LETTER SMALL CAPITAL G
% ʜ	U+029C	LATIN LETTER SMALL CAPITAL H
% Ɪ	U+026A	LATIN LETTER SMALL CAPITAL I
% ᴊ	U+1D0A	LATIN LETTER SMALL CAPITAL J
% ᴋ	U+1D0B	LATIN LETTER SMALL CAPITAL K
% ʟ	U+029F	LATIN LETTER SMALL CAPITAL L
% ᴍ	U+1D0D	LATIN LETTER SMALL CAPITAL M
% ɴ	U+0274	LATIN LETTER SMALL CAPITAL N
% ᴏ	U+1D0F	LATIN LETTER SMALL CAPITAL O
% ɶ	U+0276	LATIN LETTER SMALL CAPITAL OE
% ᴘ	U+1D18	LATIN LETTER SMALL CAPITAL P
% ꞯ	U+A7AF	LATIN LETTER SMALL CAPITAL Q
% ʀ	U+0280	LATIN LETTER SMALL CAPITAL R
% ꜱ	U+A731	LATIN LETTER SMALL CAPITAL S
% ᴛ	U+1D1B	LATIN LETTER SMALL CAPITAL T
% ᴜ	U+1D1C	LATIN LETTER SMALL CAPITAL U
% ᴠ	U+1D20	LATIN LETTER SMALL CAPITAL V
% ᴡ	U+1D21	LATIN LETTER SMALL CAPITAL W
% 			NOTE: X IS UNDEFINED, see line #100
% ʏ	U+028F	LATIN LETTER SMALL CAPITAL Y
% ᴢ	U+1D22	LATIN LETTER SMALL CAPITAL Z

% MODIFIERS:
% 			-> COMBINING GRAVE ACCENT					(U+0300)
% 			-> COMBINING ACUTE ACCENT					(U+0301)
% 			-> COMBINING CIRCUMFLEX ACCENT				(U+0302)
% 			-> COMBINING TILDE							(U+0303)
% 			-> COMBINING BREVE							(U+0306)
% 			-> COMBINING DOT ABOVE						(U+0307)
% 			-> COMBINING DIAERESIS						(U+0308)
% 			-> COMBINING RING ABOVE						(U+030A)
% 			-> COMBINING DOUBLE ACUTE ACCENT			(U+030B)
% 			-> COMBINING CARON							(U+030C)
% 			-> COMBINING DOUBLE GRAVE ACCENT			(U+030F)
% 			-> COMBINING COMMA BELOW					(U+0326)
% 			-> COMBINING CEDILLA						(U+0327)
% 			-> COMBINING OGONEK							(U+0328)
%			-> COMBINING CIRCUMFLEX ACCENT BELOW		(U+032D)
%			-> COMBINING BREVE BELOW					(U+032E)

% LATIN LETTER SMALL CAPITAL A (U+1D00)
\pgfparserdef{scparser}{initiated}a {\truecaps@outputexpanded{ᴀ}}
\pgfparserdef{scparser}{initiated}A {\truecaps@outputexpanded{A}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING GRAVE ACCENT (U+0300)
	\pgfparserdef{scparser}{initiated}à {\truecaps@outputexpanded{ᴀ̀}}
	\pgfparserdef{scparser}{initiated}À {\truecaps@outputexpanded{À}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING ACUTE ACCENT (U+0301)
	\pgfparserdef{scparser}{initiated}á {\truecaps@outputexpanded{ᴀ́}}
	\pgfparserdef{scparser}{initiated}Á {\truecaps@outputexpanded{Á}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{initiated}â {\truecaps@outputexpanded{ᴀ̂}}
	\pgfparserdef{scparser}{initiated}Â {\truecaps@outputexpanded{Â}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING TILDE (U+0303)
	\pgfparserdef{scparser}{initiated}ã {\truecaps@outputexpanded{ᴀ̃}}
	\pgfparserdef{scparser}{initiated}Ã {\truecaps@outputexpanded{Ã}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{initiated}ä {\truecaps@outputexpanded{ᴀ̈}}
	\pgfparserdef{scparser}{initiated}Ä {\truecaps@outputexpanded{Ä}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING RING ABOVE (U+030A)
	\pgfparserdef{scparser}{initiated}å {\truecaps@outputexpanded{ᴀ̊}}
	\pgfparserdef{scparser}{initiated}Å {\truecaps@outputexpanded{Å}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{initiated}ǎ {\truecaps@outputexpanded{ᴀ̌}}
	\pgfparserdef{scparser}{initiated}Ǎ {\truecaps@outputexpanded{Ǎ}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING DOUBLE GRAVE ACCENT (U+030F)
	\pgfparserdef{scparser}{initiated}ȁ {\truecaps@outputexpanded{ᴀ̏}}
	\pgfparserdef{scparser}{initiated}Ȁ {\truecaps@outputexpanded{Ȁ}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + COMBINING COMBINING OGONEK (U+0328)
	\pgfparserdef{scparser}{initiated}ą {\truecaps@outputexpanded{ᴀ̨}}
	\pgfparserdef{scparser}{initiated}Ą {\truecaps@outputexpanded{Ą}}

	% LATIN LETTER SMALL CAPITAL A (U+1D00) + % COMBINING DOT ABOVE (U+0307)
	\pgfparserdef{scparser}{initiated}ȧ {\truecaps@outputexpanded{ᴀ̇}}
	\pgfparserdef{scparser}{initiated}Ȧ {\truecaps@outputexpanded{Ȧ}}

% LATIN LETTER SMALL CAPITAL AE (U+1D01)
\pgfparserdef{scparser}{initiated}æ {\truecaps@outputexpanded{ᴁ}}
\pgfparserdef{scparser}{initiated}Æ {\truecaps@outputexpanded{Æ}}

% LATIN LETTER SMALL CAPITAL B (U+0299)
\pgfparserdef{scparser}{initiated}b {\truecaps@outputexpanded{ʙ}}
\pgfparserdef{scparser}{initiated}B {\truecaps@outputexpanded{B}}

	% TODO Ḃ Ḅ Ḇ

% LATIN LETTER SMALL CAPITAL C (U+1D04)
\pgfparserdef{scparser}{initiated}c {\truecaps@outputexpanded{ᴄ}}
\pgfparserdef{scparser}{initiated}C {\truecaps@outputexpanded{C}}

	% LATIN LETTER SMALL CAPITAL C (U+1D04) + COMBINING CEDILLA (U+0327)
	\pgfparserdef{scparser}{initiated}ç {\truecaps@outputexpanded{ᴄ̧}}
	\pgfparserdef{scparser}{initiated}Ç {\truecaps@outputexpanded{Ç}}

	% LATIN LETTER SMALL CAPITAL C (U+1D04) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{initiated}č {\truecaps@outputexpanded{ᴄ̌}}
	\pgfparserdef{scparser}{initiated}Č {\truecaps@outputexpanded{Č}}

	% TODO Ć Ĉ Ċ 

% LATIN LETTER SMALL CAPITAL D (U+1D05)
\pgfparserdef{scparser}{initiated}d {\truecaps@outputexpanded{ᴅ}}
\pgfparserdef{scparser}{initiated}D {\truecaps@outputexpanded{D}}

	% TODO: Ð Ď Ḋ Ḍ Ḏ Ḑ Ḓ

% LATIN LETTER SMALL CAPITAL E (U+1D07)
\pgfparserdef{scparser}{initiated}e {\truecaps@outputexpanded{ᴇ}}
\pgfparserdef{scparser}{initiated}E {\truecaps@outputexpanded{E}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING GRAVE ACCENT (U+0300)
	\pgfparserdef{scparser}{initiated}è {\truecaps@outputexpanded{ᴇ̀}}
	\pgfparserdef{scparser}{initiated}È {\truecaps@outputexpanded{È}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING ACUTE ACCENT (U+0301)
	\pgfparserdef{scparser}{initiated}é {\truecaps@outputexpanded{ᴇ́}}
	\pgfparserdef{scparser}{initiated}É {\truecaps@outputexpanded{É}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{initiated}ë {\truecaps@outputexpanded{ᴇ̈}}
	\pgfparserdef{scparser}{initiated}Ë {\truecaps@outputexpanded{Ë}}

	% LATIN LETTER SMALL CAPITAL E (U+1D07) + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{initiated}ê {\truecaps@outputexpanded{ᴇ̂}}
	\pgfparserdef{scparser}{initiated}Ê {\truecaps@outputexpanded{Ê}}

	% TODO: Ê Ē Ĕ Ė Ę Ě etc -> https://www.compart.com/en/unicode/U+0045

% LATIN LETTER SMALL CAPITAL F (U+A730)
\pgfparserdef{scparser}{initiated}f {\truecaps@outputexpanded{ꜰ}}
\pgfparserdef{scparser}{initiated}F {\truecaps@outputexpanded{F}}

	% TODO: Ḟ

% LATIN LETTER SMALL CAPITAL G (U+0262)
\pgfparserdef{scparser}{initiated}g {\truecaps@outputexpanded{ɢ}}
\pgfparserdef{scparser}{initiated}G {\truecaps@outputexpanded{G}}

	% LATIN LETTER SMALL CAPITAL G (U+0262) + COMBINING BREVE (U+0306)
	\pgfparserdef{scparser}{initiated}ğ {\truecaps@outputexpanded{ɢ̆}}
	\pgfparserdef{scparser}{initiated}Ğ {\truecaps@outputexpanded{Ğ}}

	% TODO Ǧ Ġ Ģ Ĝ Ǵ Ḡ

% LATIN LETTER SMALL CAPITAL H (U+029C)
\pgfparserdef{scparser}{initiated}h {\truecaps@outputexpanded{ʜ}}
\pgfparserdef{scparser}{initiated}H {\truecaps@outputexpanded{H}}

	% LATIN LETTER SMALL CAPITAL H (U+029C) + COMBINING BREVE BELOW (U+032E)
	\pgfparserdef{scparser}{initiated}ḫ {\truecaps@outputexpanded{ʜ̮}}
	\pgfparserdef{scparser}{initiated}Ḫ {\truecaps@outputexpanded{Ḫ}}

	% TODO Ĥ Ȟ Ḣ Ḥ Ḧ Ḩ 

% LATIN LETTER SMALL CAPITAL I (U+026A)
\pgfparserdef{scparser}{initiated}i {\truecaps@outputexpanded{ɪ}}
\pgfparserdef{scparser}{initiated}I {\truecaps@outputexpanded{I}}

	% LATIN LETTER SMALL CAPITAL I (U+026A) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{initiated}ï {\truecaps@outputexpanded{ɪ̈}}
	\pgfparserdef{scparser}{initiated}Ï {\truecaps@outputexpanded{Ï}}

	% TODO: İ Í Ì Î Į

% LATIN LETTER SMALL CAPITAL J (U+1D0A)
\pgfparserdef{scparser}{initiated}j {\truecaps@outputexpanded{ᴊ}}
\pgfparserdef{scparser}{initiated}J {\truecaps@outputexpanded{J}}

	% LATIN LETTER SMALL CAPITAL J (U+1D0A) + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{initiated}ĵ {\truecaps@outputexpanded{ᴊ̂}}
	\pgfparserdef{scparser}{initiated}Ĵ {\truecaps@outputexpanded{Ĵ}}

% LATIN LETTER SMALL CAPITAL K (U+1D0B)
\pgfparserdef{scparser}{initiated}k {\truecaps@outputexpanded{ᴋ}}
\pgfparserdef{scparser}{initiated}K {\truecaps@outputexpanded{K}}

	% TODO Ķ Ǩ Ḱ Ḳ Ḵ

%% LATIN LETTER SMALL CAPITAL L (U+029F)
\pgfparserdef{scparser}{initiated}l {\truecaps@outputexpanded{ʟ}}
\pgfparserdef{scparser}{initiated}L {\truecaps@outputexpanded{L}}

	% TODO Ĺ Ļ Ľ Ŀ Ḷ Ḻ Ḽ

% LATIN LETTER SMALL CAPITAL M (U+1D0D)
\pgfparserdef{scparser}{initiated}m {\truecaps@outputexpanded{ᴍ}}
\pgfparserdef{scparser}{initiated}M {\truecaps@outputexpanded{M}}

	% TODO Ḿ Ṁ Ṃ

%% LATIN LETTER SMALL CAPITAL N (U+0274)
\pgfparserdef{scparser}{initiated}n {\truecaps@outputexpanded{ɴ}}
\pgfparserdef{scparser}{initiated}N {\truecaps@outputexpanded{N}}

	% TODO Ñ Ń Ņ Ň Ǹ Ṅ Ṇ Ṉ Ṋ

% LATIN LETTER SMALL CAPITAL O (U+1D0F)
\pgfparserdef{scparser}{initiated}o {\truecaps@outputexpanded{ᴏ}}
\pgfparserdef{scparser}{initiated}O {\truecaps@outputexpanded{O}}

	% LATIN LETTER SMALL CAPITAL O (U+1D0F) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{initiated}ö {\truecaps@outputexpanded{ᴏ̈}}
	\pgfparserdef{scparser}{initiated}Ö {\truecaps@outputexpanded{Ö}}

	% TODO ==> https://www.compart.com/en/unicode/U+004F

% LATIN LETTER SMALL CAPITAL OE (U+0276)
\pgfparserdef{scparser}{initiated}œ {\truecaps@outputexpanded{ɶ}}
\pgfparserdef{scparser}{initiated}Œ {\truecaps@outputexpanded{Œ}}

% LATIN LETTER SMALL CAPITAL P (U+1D18)
\pgfparserdef{scparser}{initiated}p {\truecaps@outputexpanded{ᴘ}}
\pgfparserdef{scparser}{initiated}P {\truecaps@outputexpanded{P}}

%% LATIN LETTER SMALL CAPITAL Q (U+A7AF)
\pgfparserdef{scparser}{initiated}q {\truecaps@outputexpanded{ꞯ}}
\pgfparserdef{scparser}{initiated}Q {\truecaps@outputexpanded{Q}}

%% LATIN LETTER SMALL CAPITAL R (U+0280)
\pgfparserdef{scparser}{initiated}r {\truecaps@outputexpanded{ʀ}}
\pgfparserdef{scparser}{initiated}R {\truecaps@outputexpanded{R}}

	% TODO ==> https://www.compart.com/en/unicode/U+0052

% LATIN LETTER SMALL CAPITAL S (U+A731)
\pgfparserdef{scparser}{initiated}s {\truecaps@outputexpanded{ꜱ}}
\pgfparserdef{scparser}{initiated}S {\truecaps@outputexpanded{S}}

	% There is no German word that starts with ẞ
	% => No need for LATIN CAPITAL LETTER SHARP S (U+1E9E)
	\pgfparserdef{scparser}{initiated}ß {\truecaps@outputexpanded{ꜱꜱ}}

	% TODO Ś Ŝ Ş Š Ș Ṡ Ṣ

% LATIN LETTER SMALL CAPITAL T (U+1D1B)
\pgfparserdef{scparser}{initiated}t {\truecaps@outputexpanded{ᴛ}}
\pgfparserdef{scparser}{initiated}T {\truecaps@outputexpanded{T}}

	% TODO Ţ Ť Ț Ṫ Ṭ Ṯ Ṱ

% LATIN LETTER SMALL CAPITAL U (U+1D1C)
\pgfparserdef{scparser}{initiated}u {\truecaps@outputexpanded{ᴜ}}
\pgfparserdef{scparser}{initiated}U {\truecaps@outputexpanded{U}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING RING ABOVE (U+030A)
	\pgfparserdef{scparser}{initiated}ů {\truecaps@outputexpanded{ᴜ̊}}
	\pgfparserdef{scparser}{initiated}Ů {\truecaps@outputexpanded{Ů}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING GRAVE ACCENT (U+0300)
	\pgfparserdef{scparser}{initiated}ù {\truecaps@outputexpanded{ᴜ̀}}
	\pgfparserdef{scparser}{initiated}Ù {\truecaps@outputexpanded{Ù}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING DIAERESIS (U+0308)	
	\pgfparserdef{scparser}{initiated}ü {\truecaps@outputexpanded{ᴜ̈}}
	\pgfparserdef{scparser}{initiated}Ü {\truecaps@outputexpanded{Ü}}

	% LATIN LETTER SMALL CAPITAL U (U+1D1C) + COMBINING CIRCUMFLEX ACCENT (U+0302)
	\pgfparserdef{scparser}{initiated}û {\truecaps@outputexpanded{ᴜ̂}}
	\pgfparserdef{scparser}{initiated}Û {\truecaps@outputexpanded{Û}}

	% TODO Ú Ǔ Ų 

% LATIN LETTER SMALL CAPITAL V (U+1D20)
\pgfparserdef{scparser}{initiated}v {\truecaps@outputexpanded{ᴠ}}
\pgfparserdef{scparser}{initiated}V {\truecaps@outputexpanded{V}}

% LATIN LETTER SMALL CAPITAL W (U+1D21)
\pgfparserdef{scparser}{initiated}w {\truecaps@outputexpanded{ᴡ}}
\pgfparserdef{scparser}{initiated}W {\truecaps@outputexpanded{W}}

	%TODO Ŵ Ẃ Ẁ 

% LATIN SMALL LETTER X (U+0078) is the only letter without 
% a matching LATIN LETTER SMALL CAPITAL * 
% The best we can do is issue a warning (see line #100) 
% and use regular LATIN SMALL LETTER X (U+0078):
\pgfparserdef{scparser}{initiated}x{\truecaps@outputexpanded{x}%
\PackageWarning{\truecapsname}{\xwarning}}

% LATIN CAPITAL LETTER X (U+0058) is not an issue:
\pgfparserdef{scparser}{initiated}X {\truecaps@outputexpanded{X}}

% LATIN LETTER SMALL CAPITAL Y
\pgfparserdef{scparser}{initiated}y {\truecaps@outputexpanded{ʏ}}
\pgfparserdef{scparser}{initiated}Y {\truecaps@outputexpanded{Y}}

	% LATIN LETTER SMALL CAPITAL Y (U+028F) + COMBINING DIAERESIS (U+0308)
	\pgfparserdef{scparser}{initiated}ÿ {\truecaps@outputexpanded{ʏ̈}}
	\pgfparserdef{scparser}{initiated}Ÿ {\truecaps@outputexpanded{Ÿ}}

	% TODO Ý Ỳ Ŷ

% LATIN LETTER SMALL CAPITAL Z (U+1D22)
\pgfparserdef{scparser}{initiated}z {\truecaps@outputexpanded{ᴢ}}
\pgfparserdef{scparser}{initiated}Z {\truecaps@outputexpanded{Z}}

	% LATIN LETTER SMALL CAPITAL Z (U+1D22) + COMBINING CARON (U+030C)
	\pgfparserdef{scparser}{initiated}ž {\truecaps@outputexpanded{ᴢ̌}}
	\pgfparserdef{scparser}{initiated}Ž {\truecaps@outputexpanded{Ž}}
	% TODO Ź Ž Ẑ Ż

% BLANK SPACE
\pgfparserdef{scparser}{initiated}{blank space}%
  {\truecaps@outputexpanded{ }}

	\pgfparserdef{scparser}{initiated}+ {\truecaps@outputexpanded{+}}

	% TODO: Punctuation, Parentheses, common typographical symbols

% 			LETTER DEFINITIONS ABOVE

\pgfparserdeffinal{scparser}%
  {\expanded{\truecaps@outputcontainer}}
\AddToHook{begindocument/end}{%
  \RenewDocumentCommand\scshape{  }{%
    \ifdefined\truecaps@initiated
      \PackageError{truecaps}{Nested use not allowed}{%
        You somehow made \string\nirshape\space expand inside
        the parser. This isn't supported.%
      }%
      \expandafter\@gobbletwo
    \else
      \global\let\truecaps@outputcontainer\@empty
    \fi
    \pgfparserparse{scparser}%
  }
  \RenewDocumentCommand\textsc{ m }{%
    \begingroup\scshape #1\endgroup
  }%
}
\endinput

% EOF "truecaps.sty"